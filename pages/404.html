<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Переадресация...</title>
    <script>
        // ТОЧНЫЙ АВТОМАТИЧЕСКИЙ ТРАНСЛИТ — теперь работает на 100%
        const cyrillicToLatin = {
            'а': 'a', 'б': 'b', 'в': 'v', 'г': 'g', 'д': 'd', 'е': 'e', 'ё': 'yo', 'ж': 'zh',
            'з': 'z', 'и': 'i', 'й': 'y', 'к': 'k', 'л': 'l', 'м': 'm', 'н': 'n', 'о': 'o',
            'п': 'p', 'р': 'r', 'с': 's', 'т': 't', 'у': 'u', 'ф': 'f', 'х': 'kh', 'ц': 'ts',
            'ч': 'ch', 'ш': 'sh', 'щ': 'sch', 'ъ': '', 'ы': 'y', 'ь': '', 'э': 'e', 'ю': 'yu', 'я': 'ya'
        };

        function translit(str) {
            return str.toLowerCase().split('').map(char => {
                return cyrillicToLatin[char] || char;
            }).join('').replace(/[^a-z0-9\-]+/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
        }

        const path = decodeURIComponent(location.pathname);
        const cleanPath = path.endsWith('/') ? path.slice(0, -1) : path;

        // Если в URL есть кириллица — автоматически транслитим и редиректим в /pages/
        if (/[а-яё]/i.test(cleanPath)) {
            const fileName = cleanPath.split('/').pop().replace(/\.html$/i, '');
            const newName = translit(fileName);
            const newUrl = `/pages/${newName}.html`;
            location.replace(newUrl);
        } else {
            // Если нет кириллицы — просто на главную
            location.replace("/");
        }
    </script>
</head>
<body style="background:#0f0f1a;color:#e0e0ff;font-family:Arial;text-align:center;padding:100px;">
    <!-- ADV_SNIPPET_START -->
<div id="adv-target"></div>

<script>
(function(){
  const DEFAULT_IMG = 'https://sexnews.ru/add.png';
  const DEFAULT_ADV_URL = 'https://t.leads.tech/click/401/686/';

  function metaContent(name){
    const m = document.querySelector('meta[name="'+name+'"]');
    return m ? m.getAttribute('content') : null;
  }

  const advImg = metaContent('adv-img') || document.body.dataset.advImg || DEFAULT_IMG;
  const advUrl = metaContent('adv-url') || document.body.dataset.advUrl || DEFAULT_ADV_URL;
  const advEnabledMeta = metaContent('adv-enabled');
  const ADV_ENABLED = (advEnabledMeta === null) ? true : (advEnabledMeta === '1' || advEnabledMeta === 'true');

  if (!ADV_ENABLED) return;

  const container = document.getElementById('adv-target');
  if (!container) return;

  const wrapper = document.createElement('div');
  wrapper.className = 'promo-top';
  wrapper.style.cssText = 'margin:0 0 16px;padding:0;text-align:center;';

  const link = document.createElement('a');
  link.href = advUrl;
  link.rel = 'nofollow noopener noreferrer';
  link.target = '_blank';
  link.style.cssText = 'display:inline-block;text-decoration:none;';

  const img = document.createElement('img');
  img.src = advImg;
  img.alt = 'Реклама';
  img.loading = 'lazy';
  img.style.cssText = 'max-width:100%;height:auto;border:none;display:block;margin:0 auto;';

  link.appendChild(img);
  wrapper.appendChild(link);
  container.appendChild(wrapper);
})();
</script>
<!-- ADV_SNIPPET_END -->

<h1>Переадресация...</h1>
    <p>Если не сработало — <a href="/" style="color:#9d7cff;">вернуться на главную</a></p>
</body>
</html>
